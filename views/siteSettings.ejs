<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" type="text/css" href="/main.css" />
    <title>Site Settings</title>
  </head>
  <body>
    <h1>Site Settings Page</h1>
    <!-- 
    Leaving this here. It works. It is good code reuse. Except that the
    table name must be included.  A malicious user could change the table
    name.
     -->

    <% formData.forEach( (data) => { %>
    <p><b><%=data.title %> Settings</b></p>

    <!-- data.name data.title are not to be changed  -->
    <form action="update_site_settings" method="post">
      <p>
        Heading:
        <input id="id_settings_heading" type="text" size="20" name="heading" value="<%=data.heading%>" />
      </p>

      <p>Description:<input id="id_settings_desc" type="text" size="20" name="desc" value="<%=data.desc%>" /></p>
      <button type="submit">Update the <%=data.title %></button>
      <input type="hidden" name="name" value="<%=data.name%>" />
    </form>

    <% }); %>
  </body>
</html>
